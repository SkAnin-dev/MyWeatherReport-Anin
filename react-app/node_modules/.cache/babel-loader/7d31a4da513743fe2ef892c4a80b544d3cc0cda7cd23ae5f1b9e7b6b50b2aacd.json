{"ast":null,"code":"var _jsxFileName = \"/user/HS400/sa03742/MyWeatherReport/react-app/src/pages/WeatherPage.js\",\n  _s = $RefreshSig$();\nimport React from \"react\";\nimport { useParams, Link } from \"react-router-dom\";\nimport { Container, ListGroup } from \"react-bootstrap\";\nimport LoadingSpinner from \"../components/LoadingSpinner\";\nimport ErrorAlert from \"../components/ErrorAlert\";\nimport Breadcrumbs from \"../components/Breadcrumbs\";\nimport { useQuery } from \"@tanstack/react-query\";\n\n/**\n * Example constants for the weather API.\n * Replace these with your own or move them into a dedicated `constants.js`.\n */\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst WEATHER_API_BASE = \"https://weather.visualcrossing.com/VisualCrossingWebServices/rest/services/timeline/\";\nconst WEATHER_API_KEY = \"YOUR_API_KEY_HERE\"; // e.g., 'BP8GPRYV53UQ56SHJR5EFCJ77'\n\nfunction WeatherPage() {\n  _s();\n  // Get the city name from the URL: e.g., /weather/:city\n  const {\n    city\n  } = useParams();\n\n  // Query to fetch weather data for the given city\n  const {\n    data: weatherData,\n    isLoading,\n    isError,\n    error\n  } = useQuery({\n    queryKey: [\"weather\", city],\n    queryFn: async () => {\n      // Build the full API URL\n      const url = `${WEATHER_API_BASE}${encodeURIComponent(city)}?unitGroup=metric&key=${WEATHER_API_KEY}&contentType=json`;\n      const response = await fetch(url);\n      if (!response.ok) {\n        throw new Error(`Failed to fetch weather data for '${city}'`);\n      }\n      return response.json(); // The API typically returns an object with currentConditions + days\n    }\n  });\n\n  // Show a loading spinner while data is being fetched\n  if (isLoading) {\n    return /*#__PURE__*/_jsxDEV(LoadingSpinner, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 12\n    }, this);\n  }\n\n  // Show an error alert if the API request fails\n  if (isError) {\n    return /*#__PURE__*/_jsxDEV(ErrorAlert, {\n      message: error === null || error === void 0 ? void 0 : error.message\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 12\n    }, this);\n  }\n\n  /**\n   * Example structure of `weatherData` from Visual Crossing:\n   * {\n   *   \"resolvedAddress\": \"London, England, United Kingdom\",\n   *   \"latitude\": 51.5085,\n   *   \"longitude\": -0.1257,\n   *   \"timezone\": \"Europe/London\",\n   *   \"currentConditions\": {\n   *       \"temp\": 14.3,\n   *       \"conditions\": \"Partly cloudy\",\n   *       ...\n   *   },\n   *   \"days\": [\n   *       {\n   *         \"datetime\": \"2025-03-30\",\n   *         \"temp\": 15.2,\n   *         \"conditions\": \"Rain, Overcast\",\n   *         ...\n   *       },\n   *       ...\n   *   ]\n   * }\n   */\n\n  // Prepare breadcrumb links\n  // Feel free to adjust or remove if you don’t need breadcrumbs.\n  const breadcrumbLinks = [{\n    label: \"Home\",\n    to: \"/\"\n  }, {\n    label: \"Weather\",\n    to: \"/weather\"\n  }, {\n    label: city,\n    to: `/weather/${city}`\n  }];\n\n  // Extract current conditions and forecast days\n  const {\n    currentConditions,\n    days = []\n  } = weatherData || {};\n  const {\n    temp,\n    conditions\n  } = currentConditions || {};\n  return /*#__PURE__*/_jsxDEV(Container, {\n    children: [/*#__PURE__*/_jsxDEV(Breadcrumbs, {\n      links: breadcrumbLinks\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n      children: [\"Weather in \", city]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 7\n    }, this), currentConditions ? /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginBottom: \"20px\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Current Conditions\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"Temperature:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 13\n        }, this), \" \", temp, \"\\xB0C\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"Conditions:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 13\n        }, this), \" \", conditions]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"No current weather data available.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Forecast\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 7\n    }, this), days.length > 0 ? /*#__PURE__*/_jsxDEV(ListGroup, {\n      children: days.map(day => /*#__PURE__*/_jsxDEV(ListGroup.Item, {\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: [day.datetime, \":\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 15\n        }, this), \" \", day.conditions, \",\", \" \", day.temp, \"\\xB0C\"]\n      }, day.datetime, true, {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 13\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"No forecast data available.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginTop: \"20px\"\n      },\n      children: /*#__PURE__*/_jsxDEV(Link, {\n        to: \"/\",\n        children: \"Back to Home\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 86,\n    columnNumber: 5\n  }, this);\n}\n_s(WeatherPage, \"UOk6Fbq/8LFQmrTPGW1HERIyDM4=\", false, function () {\n  return [useParams, useQuery];\n});\n_c = WeatherPage;\nexport default WeatherPage;\nvar _c;\n$RefreshReg$(_c, \"WeatherPage\");","map":{"version":3,"names":["React","useParams","Link","Container","ListGroup","LoadingSpinner","ErrorAlert","Breadcrumbs","useQuery","jsxDEV","_jsxDEV","WEATHER_API_BASE","WEATHER_API_KEY","WeatherPage","_s","city","data","weatherData","isLoading","isError","error","queryKey","queryFn","url","encodeURIComponent","response","fetch","ok","Error","json","fileName","_jsxFileName","lineNumber","columnNumber","message","breadcrumbLinks","label","to","currentConditions","days","temp","conditions","children","links","style","marginBottom","length","map","day","Item","datetime","marginTop","_c","$RefreshReg$"],"sources":["/user/HS400/sa03742/MyWeatherReport/react-app/src/pages/WeatherPage.js"],"sourcesContent":["import React from \"react\";\nimport { useParams, Link } from \"react-router-dom\";\nimport { Container, ListGroup } from \"react-bootstrap\";\nimport LoadingSpinner from \"../components/LoadingSpinner\";\nimport ErrorAlert from \"../components/ErrorAlert\";\nimport Breadcrumbs from \"../components/Breadcrumbs\";\nimport { useQuery } from \"@tanstack/react-query\";\n\n/**\n * Example constants for the weather API.\n * Replace these with your own or move them into a dedicated `constants.js`.\n */\nconst WEATHER_API_BASE = \"https://weather.visualcrossing.com/VisualCrossingWebServices/rest/services/timeline/\";\nconst WEATHER_API_KEY = \"YOUR_API_KEY_HERE\"; // e.g., 'BP8GPRYV53UQ56SHJR5EFCJ77'\n\nfunction WeatherPage() {\n  // Get the city name from the URL: e.g., /weather/:city\n  const { city } = useParams();\n\n  // Query to fetch weather data for the given city\n  const {\n    data: weatherData,\n    isLoading,\n    isError,\n    error,\n  } = useQuery({\n    queryKey: [\"weather\", city],\n    queryFn: async () => {\n      // Build the full API URL\n      const url = `${WEATHER_API_BASE}${encodeURIComponent(city)}?unitGroup=metric&key=${WEATHER_API_KEY}&contentType=json`;\n      const response = await fetch(url);\n      if (!response.ok) {\n        throw new Error(`Failed to fetch weather data for '${city}'`);\n      }\n      return response.json(); // The API typically returns an object with currentConditions + days\n    },\n  });\n\n  // Show a loading spinner while data is being fetched\n  if (isLoading) {\n    return <LoadingSpinner />;\n  }\n\n  // Show an error alert if the API request fails\n  if (isError) {\n    return <ErrorAlert message={error?.message} />;\n  }\n\n  /**\n   * Example structure of `weatherData` from Visual Crossing:\n   * {\n   *   \"resolvedAddress\": \"London, England, United Kingdom\",\n   *   \"latitude\": 51.5085,\n   *   \"longitude\": -0.1257,\n   *   \"timezone\": \"Europe/London\",\n   *   \"currentConditions\": {\n   *       \"temp\": 14.3,\n   *       \"conditions\": \"Partly cloudy\",\n   *       ...\n   *   },\n   *   \"days\": [\n   *       {\n   *         \"datetime\": \"2025-03-30\",\n   *         \"temp\": 15.2,\n   *         \"conditions\": \"Rain, Overcast\",\n   *         ...\n   *       },\n   *       ...\n   *   ]\n   * }\n   */\n\n  // Prepare breadcrumb links\n  // Feel free to adjust or remove if you don’t need breadcrumbs.\n  const breadcrumbLinks = [\n    { label: \"Home\", to: \"/\" },\n    { label: \"Weather\", to: \"/weather\" },\n    { label: city, to: `/weather/${city}` },\n  ];\n\n  // Extract current conditions and forecast days\n  const { currentConditions, days = [] } = weatherData || {};\n  const { temp, conditions } = currentConditions || {};\n\n  return (\n    <Container>\n      {/* Breadcrumb navigation (optional) */}\n      <Breadcrumbs links={breadcrumbLinks} />\n\n      {/* Page heading */}\n      <h1>Weather in {city}</h1>\n\n      {/* Current weather conditions */}\n      {currentConditions ? (\n        <div style={{ marginBottom: \"20px\" }}>\n          <h2>Current Conditions</h2>\n          <p>\n            <strong>Temperature:</strong> {temp}°C\n          </p>\n          <p>\n            <strong>Conditions:</strong> {conditions}\n          </p>\n        </div>\n      ) : (\n        <p>No current weather data available.</p>\n      )}\n\n      {/* Forecast (days array) */}\n      <h2>Forecast</h2>\n      {days.length > 0 ? (\n        <ListGroup>\n          {days.map((day) => (\n            <ListGroup.Item key={day.datetime}>\n              <strong>{day.datetime}:</strong> {day.conditions},{\" \"}\n              {day.temp}°C\n            </ListGroup.Item>\n          ))}\n        </ListGroup>\n      ) : (\n        <p>No forecast data available.</p>\n      )}\n\n      {/* Optional link back somewhere else */}\n      <div style={{ marginTop: \"20px\" }}>\n        <Link to=\"/\">Back to Home</Link>\n      </div>\n    </Container>\n  );\n}\n\nexport default WeatherPage;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}