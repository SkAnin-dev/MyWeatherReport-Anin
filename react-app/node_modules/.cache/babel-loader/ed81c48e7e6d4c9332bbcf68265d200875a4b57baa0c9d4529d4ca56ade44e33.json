{"ast":null,"code":"import React,{useEffect,useState}from'react';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const CityCard=_ref=>{let{city,onDelete,showNotification}=_ref;const[weather,setWeather]=useState({temp:\"[??]° C\",cond:\"No information\",icon:\"/media/none.png\"});// Helper functions.\nconst getLocalTime=()=>new Date();const parseSunTime=timeStr=>timeStr?new Date(timeStr):null;const isDayTime=(sunrise,sunset)=>{const currentTime=getLocalTime();if(!sunrise||!sunset)return true;return currentTime>=sunrise&&currentTime<sunset;};const fetchWeatherData=()=>{const apikey='BP8GPRYV53UQ56SHJR5EFCJ77';const apiUrl=`https://weather.visualcrossing.com/VisualCrossingWebServices/rest/services/timeline/${encodeURIComponent(city.name)}?unitGroup=metric&key=${apikey}&contentType=json`;const fetchPromise=fetch(apiUrl).then(response=>{if(!response.ok)throw new Error(\"City not found\");return response.json();}).then(data=>{const currentData=data.currentConditions||(data.days&&data.days.length>0?data.days[0]:null);if(currentData&&typeof currentData.temp!=='undefined'&&currentData.conditions){let sunriseEpoch,sunsetEpoch;if(currentData.sunriseEpoch&&currentData.sunsetEpoch){sunriseEpoch=currentData.sunriseEpoch;sunsetEpoch=currentData.sunsetEpoch;}else if(data.days&&data.days.length>0){sunriseEpoch=data.days[0].sunriseEpoch;sunsetEpoch=data.days[0].sunsetEpoch;}let dayTime=true;if(sunriseEpoch&&sunsetEpoch){const nowEpoch=Date.now()/1000;dayTime=nowEpoch>=sunriseEpoch&&nowEpoch<sunsetEpoch;}else{let sunrise=currentData.sunrise?parseSunTime(currentData.sunrise):null;let sunset=currentData.sunset?parseSunTime(currentData.sunset):null;dayTime=sunrise&&sunset?getLocalTime()>=sunrise&&getLocalTime()<sunset:true;}// Icon selection logic.\nlet iconFile=\"none.png\";const condition=currentData.conditions.toLowerCase();if(condition.includes(\"thunder\")){if(condition.includes(\"showers\")){iconFile=dayTime?\"thunder-showers-day.png\":\"thunder-showers-night.png\";}else if(condition.includes(\"rain\")){iconFile=\"thunder-rain.png\";}else{iconFile=\"thunder.png\";}}else if(condition.includes(\"rain\")&&condition.includes(\"snow\")){iconFile=\"rain-snow.png\";}else if(condition.includes(\"rain\")&&condition.includes(\"showers\")){iconFile=dayTime?\"showers-day.png\":\"showers-night.png\";}else if(condition.includes(\"rain\")){iconFile=\"rain.png\";}else if(condition.includes(\"snow\")&&condition.includes(\"showers\")){iconFile=dayTime?\"snow-showers-day.png\":\"snow-showers-night.png\";}else if(condition.includes(\"snow\")){iconFile=\"snow.png\";}else if(condition.includes(\"sleet\")){iconFile=\"sleet.png\";}else if(condition.includes(\"fog\")){iconFile=\"fog.png\";}else if(condition.includes(\"hail\")){iconFile=\"hail.png\";}else if(condition.includes(\"wind\")){iconFile=\"wind.png\";}else if(condition.includes(\"clear\")){iconFile=dayTime?\"clear-day.png\":\"clear-night.png\";}else if(condition.includes(\"partly\")&&condition.includes(\"cloudy\")){iconFile=dayTime?\"partly-cloudy-day.png\":\"partly-cloudy-night.png\";}else if(condition.includes(\"overcast\")){iconFile=\"cloudy.png\";}else if(condition.includes(\"cloudy\")){if(currentData.cloudcover!==undefined&&currentData.cloudcover<80){iconFile=dayTime?\"partly-cloudy-day.png\":\"partly-cloudy-night.png\";}else{iconFile=\"cloudy.png\";}}setWeather({temp:`${currentData.temp}° C`,cond:currentData.conditions,icon:`/media/${iconFile}`});}else{console.error(\"Incomplete data for city:\",city.name);setWeather({temp:\"[??]° C\",cond:\"No information\",icon:\"/media/none.png\"});}}).catch(err=>{console.error(\"Error fetching weather for\",city.name,err);setWeather({temp:\"[??]° C\",cond:\"No information\",icon:\"/media/none.png\"});});const timeoutPromise=new Promise(resolve=>setTimeout(resolve,10000));Promise.race([fetchPromise,timeoutPromise]);};useEffect(()=>{fetchWeatherData();},[city.name]);const handleDelete=()=>{// For default cities, delete directly.\nif([\"tokyo\",\"london\",\"newyork\"].includes(city.id.toLowerCase())){onDelete(city.id);showNotification({type:'success',message:`Successfully deleted '${city.name}'`});return;}fetch(`/ajax/cities/${city.id}/delete/`,{method:'DELETE',credentials:'include'}).then(async res=>{let data={};try{data=await res.json();}catch(e){if(res.ok)data.success=true;}if(res.ok&&(data.status==='success'||data.success)){onDelete(city.id);showNotification({type:'success',message:`Successfully deleted '${city.name}'`});}else{console.error(\"Error deleting city\",data.error);showNotification({type:'danger',message:data.error||\"Error deleting city!\"});}}).catch(err=>{console.error(\"Network error deleting city\",err);showNotification({type:'danger',message:\"Network error or server not reachable!\"});});};return/*#__PURE__*/_jsx(\"div\",{className:\"box city-box\",\"data-city-id\":city.id,children:/*#__PURE__*/_jsxs(\"article\",{className:\"media\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"media-left\",children:/*#__PURE__*/_jsx(\"figure\",{className:\"image is-64x64\",children:/*#__PURE__*/_jsx(\"img\",{src:weather.icon,alt:\"Weather Icon\"})})}),/*#__PURE__*/_jsx(\"div\",{className:\"media-content\",children:/*#__PURE__*/_jsx(\"div\",{className:\"content\",children:/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"title\",style:{fontWeight:'normal'},children:city.name}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"span\",{className:\"subtitle\",id:`temp-${city.id}`,children:weather.temp}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"span\",{className:\"condition\",id:`cond-${city.id}`,children:weather.cond})]})})}),/*#__PURE__*/_jsx(\"div\",{className:\"media-right\",children:/*#__PURE__*/_jsx(\"button\",{className:\"delete\",onClick:handleDelete})})]})});};export default CityCard;","map":{"version":3,"names":["React","useEffect","useState","jsx","_jsx","jsxs","_jsxs","CityCard","_ref","city","onDelete","showNotification","weather","setWeather","temp","cond","icon","getLocalTime","Date","parseSunTime","timeStr","isDayTime","sunrise","sunset","currentTime","fetchWeatherData","apikey","apiUrl","encodeURIComponent","name","fetchPromise","fetch","then","response","ok","Error","json","data","currentData","currentConditions","days","length","conditions","sunriseEpoch","sunsetEpoch","dayTime","nowEpoch","now","iconFile","condition","toLowerCase","includes","cloudcover","undefined","console","error","catch","err","timeoutPromise","Promise","resolve","setTimeout","race","handleDelete","id","type","message","method","credentials","res","e","success","status","className","children","src","alt","style","fontWeight","onClick"],"sources":["/user/HS400/sa03742/MyWeatherReport/react-app/src/components/CityCard.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\n\nconst CityCard = ({ city, onDelete, showNotification }) => {\n  const [weather, setWeather] = useState({\n    temp: \"[??]° C\",\n    cond: \"No information\",\n    icon: \"/media/none.png\"\n  });\n\n  // Helper functions.\n  const getLocalTime = () => new Date();\n  const parseSunTime = (timeStr) => timeStr ? new Date(timeStr) : null;\n  const isDayTime = (sunrise, sunset) => {\n    const currentTime = getLocalTime();\n    if (!sunrise || !sunset) return true;\n    return currentTime >= sunrise && currentTime < sunset;\n  };\n\n  const fetchWeatherData = () => {\n    const apikey = 'BP8GPRYV53UQ56SHJR5EFCJ77';\n    const apiUrl = `https://weather.visualcrossing.com/VisualCrossingWebServices/rest/services/timeline/${encodeURIComponent(city.name)}?unitGroup=metric&key=${apikey}&contentType=json`;\n\n    const fetchPromise = fetch(apiUrl)\n      .then(response => {\n        if (!response.ok) throw new Error(\"City not found\");\n        return response.json();\n      })\n      .then(data => {\n        const currentData = data.currentConditions || (data.days && data.days.length > 0 ? data.days[0] : null);\n        if (currentData && typeof currentData.temp !== 'undefined' && currentData.conditions) {\n          let sunriseEpoch, sunsetEpoch;\n          if (currentData.sunriseEpoch && currentData.sunsetEpoch) {\n            sunriseEpoch = currentData.sunriseEpoch;\n            sunsetEpoch = currentData.sunsetEpoch;\n          } else if (data.days && data.days.length > 0) {\n            sunriseEpoch = data.days[0].sunriseEpoch;\n            sunsetEpoch = data.days[0].sunsetEpoch;\n          }\n          \n          let dayTime = true;\n          if (sunriseEpoch && sunsetEpoch) {\n            const nowEpoch = Date.now() / 1000;\n            dayTime = (nowEpoch >= sunriseEpoch && nowEpoch < sunsetEpoch);\n          } else {\n            let sunrise = currentData.sunrise ? parseSunTime(currentData.sunrise) : null;\n            let sunset = currentData.sunset ? parseSunTime(currentData.sunset) : null;\n            dayTime = (sunrise && sunset) ? (getLocalTime() >= sunrise && getLocalTime() < sunset) : true;\n          }\n\n          // Icon selection logic.\n          let iconFile = \"none.png\";\n          const condition = currentData.conditions.toLowerCase();\n          if (condition.includes(\"thunder\")) {\n            if (condition.includes(\"showers\")) {\n              iconFile = dayTime ? \"thunder-showers-day.png\" : \"thunder-showers-night.png\";\n            } else if (condition.includes(\"rain\")) {\n              iconFile = \"thunder-rain.png\";\n            } else {\n              iconFile = \"thunder.png\";\n            }\n          } else if (condition.includes(\"rain\") && condition.includes(\"snow\")) {\n            iconFile = \"rain-snow.png\";\n          } else if (condition.includes(\"rain\") && condition.includes(\"showers\")) {\n            iconFile = dayTime ? \"showers-day.png\" : \"showers-night.png\";\n          } else if (condition.includes(\"rain\")) {\n            iconFile = \"rain.png\";\n          } else if (condition.includes(\"snow\") && condition.includes(\"showers\")) {\n            iconFile = dayTime ? \"snow-showers-day.png\" : \"snow-showers-night.png\";\n          } else if (condition.includes(\"snow\")) {\n            iconFile = \"snow.png\";\n          } else if (condition.includes(\"sleet\")) {\n            iconFile = \"sleet.png\";\n          } else if (condition.includes(\"fog\")) {\n            iconFile = \"fog.png\";\n          } else if (condition.includes(\"hail\")) {\n            iconFile = \"hail.png\";\n          } else if (condition.includes(\"wind\")) {\n            iconFile = \"wind.png\";\n          } else if (condition.includes(\"clear\")) {\n            iconFile = dayTime ? \"clear-day.png\" : \"clear-night.png\";\n          } else if (condition.includes(\"partly\") && condition.includes(\"cloudy\")) {\n            iconFile = dayTime ? \"partly-cloudy-day.png\" : \"partly-cloudy-night.png\";\n          } else if (condition.includes(\"overcast\")) {\n            iconFile = \"cloudy.png\";\n          } else if (condition.includes(\"cloudy\")) {\n            if (currentData.cloudcover !== undefined && currentData.cloudcover < 80) {\n              iconFile = dayTime ? \"partly-cloudy-day.png\" : \"partly-cloudy-night.png\";\n            } else {\n              iconFile = \"cloudy.png\";\n            }\n          }\n\n          setWeather({\n            temp: `${currentData.temp}° C`,\n            cond: currentData.conditions,\n            icon: `/media/${iconFile}`\n          });\n        } else {\n          console.error(\"Incomplete data for city:\", city.name);\n          setWeather({\n            temp: \"[??]° C\",\n            cond: \"No information\",\n            icon: \"/media/none.png\"\n          });\n        }\n      })\n      .catch(err => {\n        console.error(\"Error fetching weather for\", city.name, err);\n        setWeather({\n          temp: \"[??]° C\",\n          cond: \"No information\",\n          icon: \"/media/none.png\"\n        });\n      });\n\n    const timeoutPromise = new Promise(resolve => setTimeout(resolve, 10000));\n    Promise.race([fetchPromise, timeoutPromise]);\n  };\n\n  useEffect(() => {\n    fetchWeatherData();\n  }, [city.name]);\n\n  const handleDelete = () => {\n    // For default cities, delete directly.\n    if ([\"tokyo\", \"london\", \"newyork\"].includes(city.id.toLowerCase())) {\n      onDelete(city.id);\n      showNotification({ type: 'success', message: `Successfully deleted '${city.name}'` });\n      return;\n    }\n    fetch(`/ajax/cities/${city.id}/delete/`, {\n      method: 'DELETE',\n      credentials: 'include'\n    })\n      .then(async res => {\n        let data = {};\n        try {\n          data = await res.json();\n        } catch (e) {\n          if (res.ok) data.success = true;\n        }\n        if (res.ok && (data.status === 'success' || data.success)) {\n          onDelete(city.id);\n          showNotification({ type: 'success', message: `Successfully deleted '${city.name}'` });\n        } else {\n          console.error(\"Error deleting city\", data.error);\n          showNotification({ type: 'danger', message: data.error || \"Error deleting city!\" });\n        }\n      })\n      .catch(err => {\n        console.error(\"Network error deleting city\", err);\n        showNotification({ type: 'danger', message: \"Network error or server not reachable!\" });\n      });\n  };\n\n  return (\n    <div className=\"box city-box\" data-city-id={city.id}>\n      <article className=\"media\">\n        <div className=\"media-left\">\n          <figure className=\"image is-64x64\">\n            <img src={weather.icon} alt=\"Weather Icon\" />\n          </figure>\n        </div>\n        <div className=\"media-content\">\n          <div className=\"content\">\n            <p>\n              <span className=\"title\" style={{ fontWeight: 'normal' }}>{city.name}</span><br />\n              <span className=\"subtitle\" id={`temp-${city.id}`}>{weather.temp}</span><br />\n              <span className=\"condition\" id={`cond-${city.id}`}>{weather.cond}</span>\n            </p>\n          </div>\n        </div>\n        <div className=\"media-right\">\n          <button className=\"delete\" onClick={handleDelete}></button>\n        </div>\n      </article>\n    </div>\n  );\n};\n\nexport default CityCard;\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAEnD,KAAM,CAAAC,QAAQ,CAAGC,IAAA,EAA0C,IAAzC,CAAEC,IAAI,CAAEC,QAAQ,CAAEC,gBAAiB,CAAC,CAAAH,IAAA,CACpD,KAAM,CAACI,OAAO,CAAEC,UAAU,CAAC,CAAGX,QAAQ,CAAC,CACrCY,IAAI,CAAE,SAAS,CACfC,IAAI,CAAE,gBAAgB,CACtBC,IAAI,CAAE,iBACR,CAAC,CAAC,CAEF;AACA,KAAM,CAAAC,YAAY,CAAGA,CAAA,GAAM,GAAI,CAAAC,IAAI,CAAC,CAAC,CACrC,KAAM,CAAAC,YAAY,CAAIC,OAAO,EAAKA,OAAO,CAAG,GAAI,CAAAF,IAAI,CAACE,OAAO,CAAC,CAAG,IAAI,CACpE,KAAM,CAAAC,SAAS,CAAGA,CAACC,OAAO,CAAEC,MAAM,GAAK,CACrC,KAAM,CAAAC,WAAW,CAAGP,YAAY,CAAC,CAAC,CAClC,GAAI,CAACK,OAAO,EAAI,CAACC,MAAM,CAAE,MAAO,KAAI,CACpC,MAAO,CAAAC,WAAW,EAAIF,OAAO,EAAIE,WAAW,CAAGD,MAAM,CACvD,CAAC,CAED,KAAM,CAAAE,gBAAgB,CAAGA,CAAA,GAAM,CAC7B,KAAM,CAAAC,MAAM,CAAG,2BAA2B,CAC1C,KAAM,CAAAC,MAAM,CAAG,uFAAuFC,kBAAkB,CAACnB,IAAI,CAACoB,IAAI,CAAC,yBAAyBH,MAAM,mBAAmB,CAErL,KAAM,CAAAI,YAAY,CAAGC,KAAK,CAACJ,MAAM,CAAC,CAC/BK,IAAI,CAACC,QAAQ,EAAI,CAChB,GAAI,CAACA,QAAQ,CAACC,EAAE,CAAE,KAAM,IAAI,CAAAC,KAAK,CAAC,gBAAgB,CAAC,CACnD,MAAO,CAAAF,QAAQ,CAACG,IAAI,CAAC,CAAC,CACxB,CAAC,CAAC,CACDJ,IAAI,CAACK,IAAI,EAAI,CACZ,KAAM,CAAAC,WAAW,CAAGD,IAAI,CAACE,iBAAiB,GAAKF,IAAI,CAACG,IAAI,EAAIH,IAAI,CAACG,IAAI,CAACC,MAAM,CAAG,CAAC,CAAGJ,IAAI,CAACG,IAAI,CAAC,CAAC,CAAC,CAAG,IAAI,CAAC,CACvG,GAAIF,WAAW,EAAI,MAAO,CAAAA,WAAW,CAACxB,IAAI,GAAK,WAAW,EAAIwB,WAAW,CAACI,UAAU,CAAE,CACpF,GAAI,CAAAC,YAAY,CAAEC,WAAW,CAC7B,GAAIN,WAAW,CAACK,YAAY,EAAIL,WAAW,CAACM,WAAW,CAAE,CACvDD,YAAY,CAAGL,WAAW,CAACK,YAAY,CACvCC,WAAW,CAAGN,WAAW,CAACM,WAAW,CACvC,CAAC,IAAM,IAAIP,IAAI,CAACG,IAAI,EAAIH,IAAI,CAACG,IAAI,CAACC,MAAM,CAAG,CAAC,CAAE,CAC5CE,YAAY,CAAGN,IAAI,CAACG,IAAI,CAAC,CAAC,CAAC,CAACG,YAAY,CACxCC,WAAW,CAAGP,IAAI,CAACG,IAAI,CAAC,CAAC,CAAC,CAACI,WAAW,CACxC,CAEA,GAAI,CAAAC,OAAO,CAAG,IAAI,CAClB,GAAIF,YAAY,EAAIC,WAAW,CAAE,CAC/B,KAAM,CAAAE,QAAQ,CAAG5B,IAAI,CAAC6B,GAAG,CAAC,CAAC,CAAG,IAAI,CAClCF,OAAO,CAAIC,QAAQ,EAAIH,YAAY,EAAIG,QAAQ,CAAGF,WAAY,CAChE,CAAC,IAAM,CACL,GAAI,CAAAtB,OAAO,CAAGgB,WAAW,CAAChB,OAAO,CAAGH,YAAY,CAACmB,WAAW,CAAChB,OAAO,CAAC,CAAG,IAAI,CAC5E,GAAI,CAAAC,MAAM,CAAGe,WAAW,CAACf,MAAM,CAAGJ,YAAY,CAACmB,WAAW,CAACf,MAAM,CAAC,CAAG,IAAI,CACzEsB,OAAO,CAAIvB,OAAO,EAAIC,MAAM,CAAKN,YAAY,CAAC,CAAC,EAAIK,OAAO,EAAIL,YAAY,CAAC,CAAC,CAAGM,MAAM,CAAI,IAAI,CAC/F,CAEA;AACA,GAAI,CAAAyB,QAAQ,CAAG,UAAU,CACzB,KAAM,CAAAC,SAAS,CAAGX,WAAW,CAACI,UAAU,CAACQ,WAAW,CAAC,CAAC,CACtD,GAAID,SAAS,CAACE,QAAQ,CAAC,SAAS,CAAC,CAAE,CACjC,GAAIF,SAAS,CAACE,QAAQ,CAAC,SAAS,CAAC,CAAE,CACjCH,QAAQ,CAAGH,OAAO,CAAG,yBAAyB,CAAG,2BAA2B,CAC9E,CAAC,IAAM,IAAII,SAAS,CAACE,QAAQ,CAAC,MAAM,CAAC,CAAE,CACrCH,QAAQ,CAAG,kBAAkB,CAC/B,CAAC,IAAM,CACLA,QAAQ,CAAG,aAAa,CAC1B,CACF,CAAC,IAAM,IAAIC,SAAS,CAACE,QAAQ,CAAC,MAAM,CAAC,EAAIF,SAAS,CAACE,QAAQ,CAAC,MAAM,CAAC,CAAE,CACnEH,QAAQ,CAAG,eAAe,CAC5B,CAAC,IAAM,IAAIC,SAAS,CAACE,QAAQ,CAAC,MAAM,CAAC,EAAIF,SAAS,CAACE,QAAQ,CAAC,SAAS,CAAC,CAAE,CACtEH,QAAQ,CAAGH,OAAO,CAAG,iBAAiB,CAAG,mBAAmB,CAC9D,CAAC,IAAM,IAAII,SAAS,CAACE,QAAQ,CAAC,MAAM,CAAC,CAAE,CACrCH,QAAQ,CAAG,UAAU,CACvB,CAAC,IAAM,IAAIC,SAAS,CAACE,QAAQ,CAAC,MAAM,CAAC,EAAIF,SAAS,CAACE,QAAQ,CAAC,SAAS,CAAC,CAAE,CACtEH,QAAQ,CAAGH,OAAO,CAAG,sBAAsB,CAAG,wBAAwB,CACxE,CAAC,IAAM,IAAII,SAAS,CAACE,QAAQ,CAAC,MAAM,CAAC,CAAE,CACrCH,QAAQ,CAAG,UAAU,CACvB,CAAC,IAAM,IAAIC,SAAS,CAACE,QAAQ,CAAC,OAAO,CAAC,CAAE,CACtCH,QAAQ,CAAG,WAAW,CACxB,CAAC,IAAM,IAAIC,SAAS,CAACE,QAAQ,CAAC,KAAK,CAAC,CAAE,CACpCH,QAAQ,CAAG,SAAS,CACtB,CAAC,IAAM,IAAIC,SAAS,CAACE,QAAQ,CAAC,MAAM,CAAC,CAAE,CACrCH,QAAQ,CAAG,UAAU,CACvB,CAAC,IAAM,IAAIC,SAAS,CAACE,QAAQ,CAAC,MAAM,CAAC,CAAE,CACrCH,QAAQ,CAAG,UAAU,CACvB,CAAC,IAAM,IAAIC,SAAS,CAACE,QAAQ,CAAC,OAAO,CAAC,CAAE,CACtCH,QAAQ,CAAGH,OAAO,CAAG,eAAe,CAAG,iBAAiB,CAC1D,CAAC,IAAM,IAAII,SAAS,CAACE,QAAQ,CAAC,QAAQ,CAAC,EAAIF,SAAS,CAACE,QAAQ,CAAC,QAAQ,CAAC,CAAE,CACvEH,QAAQ,CAAGH,OAAO,CAAG,uBAAuB,CAAG,yBAAyB,CAC1E,CAAC,IAAM,IAAII,SAAS,CAACE,QAAQ,CAAC,UAAU,CAAC,CAAE,CACzCH,QAAQ,CAAG,YAAY,CACzB,CAAC,IAAM,IAAIC,SAAS,CAACE,QAAQ,CAAC,QAAQ,CAAC,CAAE,CACvC,GAAIb,WAAW,CAACc,UAAU,GAAKC,SAAS,EAAIf,WAAW,CAACc,UAAU,CAAG,EAAE,CAAE,CACvEJ,QAAQ,CAAGH,OAAO,CAAG,uBAAuB,CAAG,yBAAyB,CAC1E,CAAC,IAAM,CACLG,QAAQ,CAAG,YAAY,CACzB,CACF,CAEAnC,UAAU,CAAC,CACTC,IAAI,CAAE,GAAGwB,WAAW,CAACxB,IAAI,KAAK,CAC9BC,IAAI,CAAEuB,WAAW,CAACI,UAAU,CAC5B1B,IAAI,CAAE,UAAUgC,QAAQ,EAC1B,CAAC,CAAC,CACJ,CAAC,IAAM,CACLM,OAAO,CAACC,KAAK,CAAC,2BAA2B,CAAE9C,IAAI,CAACoB,IAAI,CAAC,CACrDhB,UAAU,CAAC,CACTC,IAAI,CAAE,SAAS,CACfC,IAAI,CAAE,gBAAgB,CACtBC,IAAI,CAAE,iBACR,CAAC,CAAC,CACJ,CACF,CAAC,CAAC,CACDwC,KAAK,CAACC,GAAG,EAAI,CACZH,OAAO,CAACC,KAAK,CAAC,4BAA4B,CAAE9C,IAAI,CAACoB,IAAI,CAAE4B,GAAG,CAAC,CAC3D5C,UAAU,CAAC,CACTC,IAAI,CAAE,SAAS,CACfC,IAAI,CAAE,gBAAgB,CACtBC,IAAI,CAAE,iBACR,CAAC,CAAC,CACJ,CAAC,CAAC,CAEJ,KAAM,CAAA0C,cAAc,CAAG,GAAI,CAAAC,OAAO,CAACC,OAAO,EAAIC,UAAU,CAACD,OAAO,CAAE,KAAK,CAAC,CAAC,CACzED,OAAO,CAACG,IAAI,CAAC,CAAChC,YAAY,CAAE4B,cAAc,CAAC,CAAC,CAC9C,CAAC,CAEDzD,SAAS,CAAC,IAAM,CACdwB,gBAAgB,CAAC,CAAC,CACpB,CAAC,CAAE,CAAChB,IAAI,CAACoB,IAAI,CAAC,CAAC,CAEf,KAAM,CAAAkC,YAAY,CAAGA,CAAA,GAAM,CACzB;AACA,GAAI,CAAC,OAAO,CAAE,QAAQ,CAAE,SAAS,CAAC,CAACZ,QAAQ,CAAC1C,IAAI,CAACuD,EAAE,CAACd,WAAW,CAAC,CAAC,CAAC,CAAE,CAClExC,QAAQ,CAACD,IAAI,CAACuD,EAAE,CAAC,CACjBrD,gBAAgB,CAAC,CAAEsD,IAAI,CAAE,SAAS,CAAEC,OAAO,CAAE,yBAAyBzD,IAAI,CAACoB,IAAI,GAAI,CAAC,CAAC,CACrF,OACF,CACAE,KAAK,CAAC,gBAAgBtB,IAAI,CAACuD,EAAE,UAAU,CAAE,CACvCG,MAAM,CAAE,QAAQ,CAChBC,WAAW,CAAE,SACf,CAAC,CAAC,CACCpC,IAAI,CAAC,KAAM,CAAAqC,GAAG,EAAI,CACjB,GAAI,CAAAhC,IAAI,CAAG,CAAC,CAAC,CACb,GAAI,CACFA,IAAI,CAAG,KAAM,CAAAgC,GAAG,CAACjC,IAAI,CAAC,CAAC,CACzB,CAAE,MAAOkC,CAAC,CAAE,CACV,GAAID,GAAG,CAACnC,EAAE,CAAEG,IAAI,CAACkC,OAAO,CAAG,IAAI,CACjC,CACA,GAAIF,GAAG,CAACnC,EAAE,GAAKG,IAAI,CAACmC,MAAM,GAAK,SAAS,EAAInC,IAAI,CAACkC,OAAO,CAAC,CAAE,CACzD7D,QAAQ,CAACD,IAAI,CAACuD,EAAE,CAAC,CACjBrD,gBAAgB,CAAC,CAAEsD,IAAI,CAAE,SAAS,CAAEC,OAAO,CAAE,yBAAyBzD,IAAI,CAACoB,IAAI,GAAI,CAAC,CAAC,CACvF,CAAC,IAAM,CACLyB,OAAO,CAACC,KAAK,CAAC,qBAAqB,CAAElB,IAAI,CAACkB,KAAK,CAAC,CAChD5C,gBAAgB,CAAC,CAAEsD,IAAI,CAAE,QAAQ,CAAEC,OAAO,CAAE7B,IAAI,CAACkB,KAAK,EAAI,sBAAuB,CAAC,CAAC,CACrF,CACF,CAAC,CAAC,CACDC,KAAK,CAACC,GAAG,EAAI,CACZH,OAAO,CAACC,KAAK,CAAC,6BAA6B,CAAEE,GAAG,CAAC,CACjD9C,gBAAgB,CAAC,CAAEsD,IAAI,CAAE,QAAQ,CAAEC,OAAO,CAAE,wCAAyC,CAAC,CAAC,CACzF,CAAC,CAAC,CACN,CAAC,CAED,mBACE9D,IAAA,QAAKqE,SAAS,CAAC,cAAc,CAAC,eAAchE,IAAI,CAACuD,EAAG,CAAAU,QAAA,cAClDpE,KAAA,YAASmE,SAAS,CAAC,OAAO,CAAAC,QAAA,eACxBtE,IAAA,QAAKqE,SAAS,CAAC,YAAY,CAAAC,QAAA,cACzBtE,IAAA,WAAQqE,SAAS,CAAC,gBAAgB,CAAAC,QAAA,cAChCtE,IAAA,QAAKuE,GAAG,CAAE/D,OAAO,CAACI,IAAK,CAAC4D,GAAG,CAAC,cAAc,CAAE,CAAC,CACvC,CAAC,CACN,CAAC,cACNxE,IAAA,QAAKqE,SAAS,CAAC,eAAe,CAAAC,QAAA,cAC5BtE,IAAA,QAAKqE,SAAS,CAAC,SAAS,CAAAC,QAAA,cACtBpE,KAAA,MAAAoE,QAAA,eACEtE,IAAA,SAAMqE,SAAS,CAAC,OAAO,CAACI,KAAK,CAAE,CAAEC,UAAU,CAAE,QAAS,CAAE,CAAAJ,QAAA,CAAEjE,IAAI,CAACoB,IAAI,CAAO,CAAC,cAAAzB,IAAA,QAAK,CAAC,cACjFA,IAAA,SAAMqE,SAAS,CAAC,UAAU,CAACT,EAAE,CAAE,QAAQvD,IAAI,CAACuD,EAAE,EAAG,CAAAU,QAAA,CAAE9D,OAAO,CAACE,IAAI,CAAO,CAAC,cAAAV,IAAA,QAAK,CAAC,cAC7EA,IAAA,SAAMqE,SAAS,CAAC,WAAW,CAACT,EAAE,CAAE,QAAQvD,IAAI,CAACuD,EAAE,EAAG,CAAAU,QAAA,CAAE9D,OAAO,CAACG,IAAI,CAAO,CAAC,EACvE,CAAC,CACD,CAAC,CACH,CAAC,cACNX,IAAA,QAAKqE,SAAS,CAAC,aAAa,CAAAC,QAAA,cAC1BtE,IAAA,WAAQqE,SAAS,CAAC,QAAQ,CAACM,OAAO,CAAEhB,YAAa,CAAS,CAAC,CACxD,CAAC,EACC,CAAC,CACP,CAAC,CAEV,CAAC,CAED,cAAe,CAAAxD,QAAQ","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}